<!doctype html>
<html>
  <head>
    <title>FPL-lambda</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js">
    </script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/bacon.js/0.7.53/Bacon.min.js">
    </script>
    <script
      src="https://ats-lang.github.io/LIBRARY/libatscc2js/libatscc2js_all.js">
    </script>
    <script
      src="https://ats-lang.github.io/LIBRARY/libatscc2js/libatscc2js_baconjs_all.js">
    </script>
    <script
      src="https://ats-lang.github.io/LIBRARY/libatscc2js/libatscc2js_bucs320_parcomb.js">
    </script>
    <script
      src="https://ats-lang.github.io/LIBRARY/libatscc2js/libatscc2js_print_store_cats.js">
    </script>
  </head>

  <body>
    <h1>FPL-lambda</h1>
    <hr size="2"></hr>
    <p></p>
    <div>
      Factorial:
      <input
	 type="text" id="eval_inp"
	 value='(fix f(x) => ifnz (> x 0) then (* x (f (- x 1))) else 1)(10)' size=80
      ></input>
      <button id="eval_btn">eval!</button>
    </div>
    <p></p>
    <hr size="2"></hr>
    <p></p>
    <div>
      Fibonacci:
      <input
	 type="text" id="eval2_inp"
	 value='(fix f(x) => ifnz (>= x 2) then (+ (f (- x 1)) (f (- x 2))) else x)(10)' size=80
      ></input>
      <button id="eval2_btn">eval!</button>
    </div>
    <p></p>
    <hr size="2"></hr>
    <div>
      <h2>Please input your program in the textarea:</h2>
      <center>
      <textarea
       id="eval3_inp"
       rows="24" cols="80" wrap="off">

let
  fact =
    let
      Y =
      lam f =>
        let
          f_omega = lam x => f(lam y => x(x)(y))
        in
          f_omega(f_omega)
        end
    in
      Y(lam fact => lam n => ifnz (> n 0) then (* n (fact(- n 1))) else 1)
    end
in
  fact(10)
end

      </textarea>
      <button id="eval3_btn">eval!</button>
      </center>
    </div>
    <script src="./FPL-lambda_dats.js"></script>
  </body>

</html>
